/* 
 * _hjs = Hary Javascript Library
 * picktochart.com
 * 
 */
(function(){_hjs=function(param){return new Hary(param)};var Hary=function(selector){this.length=1;var node;if(typeof(selector)!=='object'){node=document.querySelectorAll(selector);this.length=node.length}else{node=selector}this.name='_hjs is Hary Javascript Library';this.version='Just begining at version 0.0.0 :P LOL ';for(i=0;i<this.length;i++){this[i]=node[i]}this.NS="http://www.w3.org/2000/svg";return this};Hary.fn=Hary.prototype={extend:function(obj1,obj2){obj={};for(var i in obj1){obj[i]=obj1[i]}for(var i in obj2){obj[i]=obj2[i]}return obj},event:function(eventname,fn,capture){c=typeof capture!=='undefined'?false:true;for(i=0;i<this.length;i++){this[i].addEventListener(eventname,fn,c)}return this},eventRemove:function(eventname,fn,capture){c=typeof capture!=='undefined'?false:true;for(i=0;i<this.length;i++){this[i].removeEventListener(eventname,function(e){fn(e)},c)}return this},click:function(hs){for(i=0;i<this.length;i++){this[i].addEventListener('click',function(position){hs(this,position)},false)}return'mashary'},remove:function(){for(var i=0;i<this.length;i++){this[i].parentNode.removeChild(this[i])}return this},append:function(a){for(var i=0;i<this.length;i++){this[i].appendChild(a)}return this},html:function(){var len=arguments.length;for(var i=0;i<this.length;i++){if(len===1){this[i].innerHTML=arguments[0]}else{this[i].innerHTML}}return this},css:function(){var arg=arguments[0];for(var i=0;i<this.length;i++){if(typeof arguments[0]==='object'){for(var p in arg){if(arg.hasOwnProperty(p)){this[i].style[p]=arg[p]}}}else{return this[i].style[arg].replace('px','')}}return this},attr:function(){for(var i=0;i<this.length;i++){if(arguments.length>2){this[i].setAttribute(arguments[0],arguments[1])}else{return this[i].getAttribute(arguments[0])}}return this},randomColor:function(){var color='';var character='ABCDEF1234567890';for(var i=0;i<6;i++){color+=character.charAt(Math.floor(Math.random()*character.length))}return"#"+color},svgCreate:function(name,width,height,hs){var svg=document.createElementNS(this.NS,"svg");svg.setAttributeNS(null,'id',name);svg.setAttributeNS(null,'class','chart dragable');svg.setAttributeNS(null,'style',"z-index:0;width: "+width+"px;height: "+height+"px;top:0px;left:0px;background:"+this.randomColor());for(var i=0;i<this.length;i++){this.append(svg)}return this},svgTemplate:function(){this.append(this.svgCircle({'comment':'ini untuk titik X',cx:390,cy:190,r:2,fill:'black'}));this.append(this.svgCircle({'comment':'ini untuk titil Y',cx:10,cy:10,r:2,fill:'black'}));this.append(this.svgLine({'comment':'ini untuk garis X ',x1:10,y1:190,x2:390,y2:190,stroke:'#000000','stroke-width':1}));this.append(this.svgLine({'comment':'ini untuk garis Y',x1:10,y1:10,x2:10,y2:190,stroke:'#000000','stroke-width':1}));this.append(this.svgLine({'comment':'titil Zero',x1:6,y1:194,x2:15,y2:185,stroke:'#000000','stroke-width':1}));return this},svgLine:function(){var cfg={x1:10,y1:190,x2:390,y2:190,stroke:'#000000','stroke-width':1};if(typeof arguments[0]==='object'){var cfg=this.extend(cfg,arguments[0])}var SVGObj=document.createElementNS(this.NS,"line");SVGObj.setAttribute("x1",cfg.x1);SVGObj.setAttribute("y1",cfg.y1);SVGObj.setAttribute("x2",cfg.x2);SVGObj.setAttribute("y2",cfg.y2);SVGObj.setAttribute("stroke",cfg.stroke);SVGObj.setAttribute("stroke-width",cfg['stroke-width']);return SVGObj},svgCircle:function(){var cfg={cy:10,cx:10,r:2,fill:'black'};if(typeof arguments[0]==='object'){var cfg=this.extend(cfg,arguments[0])}var SVGObj=document.createElementNS(this.NS,"circle");SVGObj.setAttribute("cy",cfg.cy);SVGObj.setAttribute("cx",cfg.cx);SVGObj.setAttribute("r",cfg.r);SVGObj.setAttribute("fill",cfg.fill);return SVGObj},svgData:function(name,data){var svg=document.createElementNS(this.NS,"rect");svg.width.baseVal.value=w;svg.height.baseVal.value=h;svg.setAttribute("height",h);svg.x.baseVal.value=10;svg.y.baseVal.value=20;svg.style.fill=fill;return svg},editMode:function(){_hjs(this).css({'border':'1px dashed',cursor:'move'});_hjs(this).dragAble();return this},dragAble:function(){var id=this.attr('id');log('Chart Name: '+id);var elem=document.getElementById(id);this.css({'z-index':1});var diffposY,diffposX;this[0].addEventListener('mousedown',function init(e){var offsetX=elem.style.left.replace('px','');var offsetY=elem.style.top.replace('px','');diffposX=e.clientX-offsetX;diffposY=e.clientY-offsetY;log('Mousedown at x,y = '+e.clientX+','+e.clientY);document.documentElement.addEventListener('mousemove',geser,false)},false);this[0].addEventListener('mouseup',function(e){log('Mouseup at x,y = '+e.clientX+','+e.clientY);document.documentElement.removeEventListener('mousemove',geser,false)},false);var geser=function(e){log('Mousemove to x,y = '+e.clientX+','+e.clientY);var x=e.clientX-diffposX;var y=e.clientY-diffposY;elem.style.top=y+'px';elem.style.left=x+'px'}},addResize:function(){var id=this.attr('id');var elem=document.getElementById(id);console.log('create node');ResizeButton=parseFloat(5);var posX=parseFloat(this.css('width'))-ResizeButton;var posY=parseFloat(this.css('height'))-ResizeButton;Rect=document.createElementNS(this.NS,'rect');Rect.setAttributeNS(null,'x',posX);Rect.setAttributeNS(null,'y',posY);Rect.setAttributeNS(null,'width',ResizeButton);Rect.setAttributeNS(null,'height',ResizeButton);Rect.setAttributeNS(null,'class','resizeable');console.log(typeof Rect);this.append(Rect);return this},resize:function(){_hjs(this).event('mousedown',function(){console.log('resize mousedown');console.log(this)},false);return this}};if(!window._hjs){window._hjs=_hjs}})();(function(){log=function(a){_hjs("#log").html('<div style="color:green;font-style:italic">'+a+'</div>')};if(!window.log){window.log=log}})();